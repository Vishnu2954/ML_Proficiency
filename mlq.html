<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/minty/bootstrap.min.css" integrity="sha384-H4X+4tKc7b8s4GoMrylmy2ssQYpDHoqzPa9aKXbDwPoPUA3Ra8PA5dGzijN+ePnH" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Machine Learning Proficiency</title>
    <style>
        .nav-link {
            color: rgb(235, 235, 235);
            font-size: large;
            transition: color 0.5s;
        }

        .nav-link:hover {
            color: white;
        }

        .container{
            background-color: rgb(224, 240, 250);
            margin-top: 20px;
            position: relative;
        }

        .navbar{
            background-color: rgb(133, 180, 209); 
        }

        .questions {
            color: rgb(74, 74, 74);
            font-size: large;
        }
        .footer {
            background-color: rgb(133, 180, 209); 
            padding: 5px 0px 5px 0px;
            text-align: center;
            color: rgb(255, 255, 255);
            font-size: 24px;
            bottom: 0;
            width: 100%;
            margin-top: 30px;
        }
        .btn:focus, .btn:active {
            outline: none; 
            box-shadow: none; 
            color: black;

        }
        #resultContainer {
            padding: 0px 0px 50px 0px;
            font-size: 32px;
            color: rgb(50, 100, 150);
            text-align: center;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg" data-bs-theme="light">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" onclick="toggleNavbar()">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div id="navbarColor01" class="navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('profile') }}">Profile</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('mlq') }}">Projects</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <h2 style="text-align: center; margin-top: 20px;">Test your Machine Learning Proficiency!</h2>

    <div class="container">
        <form id="mlForm">
        <div class="questions">
            <fieldset class="form-group">
                <p style="margin-top: 40px;">1. Have you heard of the term "machine learning" before?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios1" id="optionsRadios1a" value="option1" required>
                    <label class="form-check-label" for="optionsRadios1a">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios1" id="optionsRadios1b" value="option2" required>
                    <label class="form-check-label" for="optionsRadios1b">
                        No
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios1" id="optionsRadios1c" value="option3" required>
                    <label class="form-check-label" for="optionsRadios1c">
                        Not Sure
                    </label>
                </div>
            </fieldset><br></br>

            <fieldset class="form-group">
                <p>2. Are you aware of any common applications of machine learning?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios2" id="optionsRadios2a" value="option1" required>
                    <label class="form-check-label" for="optionsRadios2a">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios2" id="optionsRadios2b" value="option2"required>
                    <label class="form-check-label" for="optionsRadios2b">
                        No
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios2" id="optionsRadios2c" value="option3"required>
                    <label class="form-check-label" for="optionsRadios2c">
                        Not Sure
                    </label>
                </div>
            </fieldset><br></br>

            <fieldset class="form-group">
                <p>3. Did you ever come across machine learning in your field?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios3" id="optionsRadios3a" value="option1" required >
                    <label class="form-check-label" for="optionsRadios3a">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios3" id="optionsRadios3b" value="option2" required>
                    <label class="form-check-label" for="optionsRadios3b">
                        No
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios3" id="optionsRadios3c" value="option3" required>
                    <label class="form-check-label" for="optionsRadios3c">
                        Not Sure
                    </label>
                </div>
            </fieldset><br></br>
            
            <fieldset class="form-group">
                <p>4. Do you know about supervised and unsupervised learning in machine learning?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios4" id="optionsRadios4a" value="option1" required >
                    <label class="form-check-label" for="optionsRadios4a">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios4" id="optionsRadios4b" value="option2" required>
                    <label class="form-check-label" for="optionsRadios4b">
                        No
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios4" id="optionsRadios4c" value="option3" required>
                    <label class="form-check-label" for="optionsRadios4c">
                        Not Sure
                    </label>
                </div>
            </fieldset><br></br>

            <fieldset class="form-group">
                <p>5. Can you build a machine learning model that makes predictions?</p>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios5" id="optionsRadios5a" value="option1" required>
                    <label class="form-check-label" for="optionsRadios5a">
                        Yes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios5" id="optionsRadios5b" value="option2" required>
                    <label class="form-check-label" for="optionsRadios5b">
                        No
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="optionsRadios5" id="optionsRadios5c" value="option3" required>
                    <label class="form-check-label" for="optionsRadios5c">
                        Not Sure
                    </label>
                </div>
            </fieldset><br></br>
            <div id="resultContainer"></div>
            <div class="row">
            <div class="col-12">
            <button type="submit" class="btn btn-light" style="padding: 10px 20px;
            margin-right: 50px;  form="mlForm">Submit</button>
            <button type="reset" class="btn btn-light" style="padding: 10px 20px; 
            margin-right: 50px;" onclick="resetForm()" form="mlForm">Reset</button><br></br>
            </div>
            </div>    
        </form>
        </div>
    </div>
</body>
<script>
document.addEventListener('DOMContentLoaded', function () {
    var form = document.getElementById('mlForm');
    var resultContainer = document.getElementById('resultContainer');

    function submitForm(formDataObject) {
        fetch('/predict_proficiency', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formDataObject),
        })
        .then(response => response.json())
        .then(data => {
            console.log(data);
            var predictedLevel = data.predicted_level;
            resultContainer.innerHTML = 'You are ' + predictedLevel + ' in Machine Learning!!!';
        })
        .catch(error => console.error('Error:', error));
    }

    form.addEventListener('submit', function (event) {
        event.preventDefault();

        var formDataObject = {
            'q1_yes': mapRadioValue('optionsRadios1'),
            'q2_yes': mapRadioValue('optionsRadios2'),
            'q3_yes': mapRadioValue('optionsRadios3'),
            'q4_yes': mapRadioValue('optionsRadios4'),
            'q5_yes': mapRadioValue('optionsRadios5'),
        };

        submitForm(formDataObject);
    });

    function mapRadioValue(name) {
        var value = getRadioValue(name);
        if (value === 'option1') {
            return 'Yes';
        } else if (value === 'option2') {
            return 'No';
        } else if (value === 'option3') {
            return 'Not Sure';
        }
        return null;
    }

    function getRadioValue(name) {
        var radios = form.elements[name];
        for (var i = 0; i < radios.length; i++) {
            if (radios[i].checked) {
                return radios[i].value;
            }
        }
        return null;
    }

    function resetForm() {
        var radioButtons = form.querySelectorAll('input[type="radio"]');
        radioButtons.forEach(function (radioButton) {
            radioButton.checked = false;
        });
    
        resultContainer.innerHTML = '';
    }
    var resetButton = form.querySelector('button[type="reset"]');
    resetButton.addEventListener('click', resetForm);
    
     function toggleNavbar() {
        var navbarCollapse = document.getElementById('navbarCollapse');
        if (navbarCollapse.classList.contains('show')) {
            navbarCollapse.classList.remove('show');
        } else {
            navbarCollapse.classList.add('show');
        }
    }
});


</script>
<footer class="footer">
        <p>Copyrights&copy2023</p>
</footer>
</html>
